[[release-23-changelog]]

=== Changelog

[[releasenotes-changelog-23.0.4]]

==== Release 23.0.4

OpenNMS Horizon 23.0.4 is an update to Horizon 23.0.3.
It contains a number of bug fixes including fixes for number handling in ReST interfaces, a possible deadlock in Alarmd, a workaround for looping SNMP agents, and more.

For a high-level overview of what's changed in OpenNMS 23, see link:http://docs.opennms.org/opennms/releases/23.0.4/releasenotes/releasenotes.html#releasenotes-23[What's New in OpenNMS 23].

The codename for 23.0.4 is _link:https://en.wikipedia.org/wiki/Morgan_le_Fay[Morgan le Fay]_.

===== Bug

* Collection results via Minion is limited to MAX_INT (Issue http://issues.opennms.org/browse/NMS-10516[NMS-10516])
* Poor performance when using filters in the Measurements API (Issue http://issues.opennms.org/browse/NMS-10589[NMS-10589])
* Update webapp copyright dates to 2019 (Issue http://issues.opennms.org/browse/NMS-10591[NMS-10591])
* Alarmd get stucks in dead-lock and stops processing events (Issue http://issues.opennms.org/browse/NMS-10593[NMS-10593])
* Flapping Syslog Parser Integration Test (Issue http://issues.opennms.org/browse/NMS-10596[NMS-10596])
* HwEntityAlias fails to be persisted (Issue http://issues.opennms.org/browse/NMS-10606[NMS-10606])
* Bad response from SNMP agent leads to infinite loop in SNMP tracker (Issue http://issues.opennms.org/browse/NMS-10621[NMS-10621])

===== Enhancement

* Upgrade to Jetty 9.4.12 (Issue http://issues.opennms.org/browse/NMS-10558[NMS-10558])

[[releasenotes-changelog-23.0.3]]

==== Release 23.0.3

OpenNMS Horizon 23.0.3 is an update to Horizon 23.0.2.
It contains a number of bug fixes including fixes for sending notifications for events without
associated nodes, XSS issues, and more.
It also includes a number of performance improvements.

For a high-level overview of what's changed in OpenNMS 23, see link:http://docs.opennms.org/opennms/releases/23.0.3/releasenotes/releasenotes.html#releasenotes-23[What's New in OpenNMS 23].

The codename for 23.0.3 is _link:https://en.wikipedia.org/wiki/Wicked_Witch_of_the_West[Wicked Witch of the West]_.

===== Bug

* JDBC collector event reason provides no useful information (Issue http://issues.opennms.org/browse/NMS-9633[NMS-9633])
* Minion WSMAN collector is not functional due to dependency missing (Issue http://issues.opennms.org/browse/NMS-9711[NMS-9711])
* syslog events are creating notifications and disregarding rules in place (Issue http://issues.opennms.org/browse/NMS-10486[NMS-10486])
* Node page very slow to load for nodes with more than 1000 events (Issue http://issues.opennms.org/browse/NMS-10506[NMS-10506])
* SNMP configuration UI should select location "Default" by default, not the first location alphabetically (Issue http://issues.opennms.org/browse/NMS-10514[NMS-10514])
* Wallboard URLs with board name should be permalinks, but return "Nothing to display" instead (Issue http://issues.opennms.org/browse/NMS-10515[NMS-10515])
* Event parameters table have strong limits for the columns (Issue http://issues.opennms.org/browse/NMS-10525[NMS-10525])
* BusinessServiceVertexStatusInfoPanelItem is broken (Issue http://issues.opennms.org/browse/NMS-10529[NMS-10529])
* Recent Debian builds can't be installed on Ubuntu 14 (Issue http://issues.opennms.org/browse/NMS-10541[NMS-10541])
* Cross-Site Scripting: Reflected (Issue http://issues.opennms.org/browse/NMS-10546[NMS-10546])
* Cross-Frame Scripting (Issue http://issues.opennms.org/browse/NMS-10547[NMS-10547])
* syslog parsing of messages without a year will sometimes infer the wrong year (Issue http://issues.opennms.org/browse/NMS-10548[NMS-10548])

[[releasenotes-changelog-23.0.2]]

==== Release 23.0.2

OpenNMS Horizon 23.0.2 is an update to Horizon 23.0.1.
It contains a number of bug fixes and enhancements, including performance improvements to topology maps, many fixes and improvements to Kafka support, and a bunch of correlation and alarm updates.

For a high-level overview of what's changed in OpenNMS 23, see link:http://docs.opennms.org/opennms/releases/23.0.2/releasenotes/releasenotes.html#releasenotes-23[What's New in OpenNMS 23].

The codename for 23.0.2 is _link:https://en.wikipedia.org/wiki/Sabrina_the_Teenage_Witch[Sabrina]_.

===== Bug

* Cannot clear alarms (Issue http://issues.opennms.org/browse/HZN-1437[HZN-1437])
* No stack-traces for exceptions thrown by REST services in OSGi (Issue http://issues.opennms.org/browse/HZN-1458[HZN-1458])
* BestMatchPingerFactory returns NullPinger when better options are available (Issue http://issues.opennms.org/browse/NMS-9659[NMS-9659])
* Sentinel does not start using init scripts on RHEL 6.6 (Issue http://issues.opennms.org/browse/NMS-10434[NMS-10434])
* Support large buffer sizes in Kafka RPC (Issue http://issues.opennms.org/browse/NMS-10446[NMS-10446])
* noisy logs by the kafka-offset-producer (Issue http://issues.opennms.org/browse/NMS-10464[NMS-10464])
* Fix offheap doc to be included in docs (Issue http://issues.opennms.org/browse/NMS-10468[NMS-10468])
* duplicate key exceptions in alarmd (Issue http://issues.opennms.org/browse/NMS-10473[NMS-10473])
* Kafka Producer: Sync timing issues cause erroneous deletes (Issue http://issues.opennms.org/browse/NMS-10474[NMS-10474])
* When using the events:stress command, the node-id or interface passed as parameters are ignored when using jexl (Issue http://issues.opennms.org/browse/NMS-10475[NMS-10475])
* Alarm Dashlet CriteriaBuilder In-Restriction not working (Issue http://issues.opennms.org/browse/NMS-10479[NMS-10479])
* Standard output get wasted with "Unknown record type: 0 / 2209" messages (Issue http://issues.opennms.org/browse/NMS-10480[NMS-10480])
* Broken links in Newts install documentation (Issue http://issues.opennms.org/browse/NMS-10481[NMS-10481])
* Drools alarm may update alarms unnecessarily on snapshot (Issue http://issues.opennms.org/browse/NMS-10494[NMS-10494])
* Harden Drools engine in alarmd (Issue http://issues.opennms.org/browse/NMS-10509[NMS-10509])
* Syslog test failures due to year offset in eventConverter (Issue http://issues.opennms.org/browse/NMS-10523[NMS-10523])
* Flow query fails with NPE if it returns no data (Issue http://issues.opennms.org/browse/NMS-10530[NMS-10530])

===== Enhancement

* Topologies REST Service (Issue http://issues.opennms.org/browse/HZN-1377[HZN-1377])
* Add an "ssh" action to bin/opennms (Issue http://issues.opennms.org/browse/HZN-1391[HZN-1391])
* Update telemetryd documentation to reflect single port support (Issue http://issues.opennms.org/browse/HZN-1408[HZN-1408])
* Add example on how to use Drools with alarms for nagging events (Issue http://issues.opennms.org/browse/HZN-1450[HZN-1450])
* Replaced jdhcp with dhcp4java (Issue http://issues.opennms.org/browse/NMS-10337[NMS-10337])
* Performance problems with the Topology Map on large networks (Issue http://issues.opennms.org/browse/NMS-10369[NMS-10369])
* APCs rpdu's total energy/power metric is missing (Issue http://issues.opennms.org/browse/NMS-10383[NMS-10383])
* Apply initial loading improvements to IsIs, lldp, ospf protocols (Issue http://issues.opennms.org/browse/NMS-10439[NMS-10439])
* Allow PostgreSQL 11.x (Issue http://issues.opennms.org/browse/NMS-10450[NMS-10450])
* Support Additional EIF Protocol Version (Issue http://issues.opennms.org/browse/NMS-10454[NMS-10454])
* Make favicons in the web application great again (Issue http://issues.opennms.org/browse/NMS-10483[NMS-10483])
* Meassure and improve performance of Interface loading and mapping (Issue http://issues.opennms.org/browse/NMS-10459[NMS-10459])
* Meassure and improve performance of Cdp/Lldp/IsIsElement loading (Issue http://issues.opennms.org/browse/NMS-10487[NMS-10487])
* Add select/deselect all packages when creating a scheduled outage (Issue http://issues.opennms.org/browse/NMS-10227[NMS-10227])

[[releasenotes-changelog-23.0.1]]

==== Release 23.0.1

OpenNMS Horizon 23.0.1 is an update to Horizon 23.0.0.
It contains a number of bug fixes and enhancements, including additional HTTP proxy support, reliability updates, UI performance improvements, and a number of Kafka-related fixes.

For a high-level overview of what's changed in OpenNMS 23, see link:http://docs.opennms.org/opennms/releases/23.0.1/releasenotes/releasenotes.html#releasenotes-23[What's New in OpenNMS 23].

The codename for 23.0.1 is _link:http://bewitched.wikia.com/wiki/Endora[Endora]_.

===== Bug

* Cannot use SASL Authentication for Kafka on Minions (might impact Sentinel) (Issue http://issues.opennms.org/browse/HZN-1387[HZN-1387])
* Sink API drops messages when there is no connectivity with Kafka  (Issue http://issues.opennms.org/browse/NMS-10395[NMS-10395])
* Discovery UI should not allow selection of Minions as Foreign Source (Issue http://issues.opennms.org/browse/NMS-10400[NMS-10400])
* Reloading of Script in telemetry collection is broken (Issue http://issues.opennms.org/browse/NMS-10403[NMS-10403])
* Kafka Producer:  Sync pushes all alarms when suppressIncrementalAlarms=false (Issue http://issues.opennms.org/browse/NMS-10423[NMS-10423])
* Typo in BSFMonitor Documentation (Issue http://issues.opennms.org/browse/NMS-10428[NMS-10428])
* Cannot use SASL Authentication for kafka-producer module. (Issue http://issues.opennms.org/browse/NMS-10436[NMS-10436])
* Default Metaspace configuration is insufficient (Issue http://issues.opennms.org/browse/NMS-10437[NMS-10437])

===== Enhancement

* Change eventconf for newSuspect to include location name in logmsg (Issue http://issues.opennms.org/browse/HZN-814[HZN-814])
* Be able to use Proxy for any Monitor or Collector that uses HttpClient (Issue http://issues.opennms.org/browse/NMS-9710[NMS-9710])
* Detect and Attempt to Restart Failed Drools Engines (Issue http://issues.opennms.org/browse/NMS-10363[NMS-10363])
* Other classes that use Http (Issue http://issues.opennms.org/browse/NMS-10379[NMS-10379])

[[releasenotes-changelog-23.0.0]]

==== Release 23.0.0

OpenNMS Horizon 23.0.0 is the first release of the stable 23 series.
It contains a number of bug fixes and enhancements, including support for alarm correlation, running OpenNMS components in an external container, and many other improvements.

For a high-level overview of what's changed in OpenNMS 23, see link:http://docs.opennms.org/opennms/releases/23.0.0/releasenotes/releasenotes.html#releasenotes-23[What's New in OpenNMS 23].

The codename for 23.0.0 is _link:https://en.wikipedia.org/wiki/Granny_Weatherwax[Granny Weatherwax]_.

===== Bug

* VMWare-Center-Monitoring make for every virtual machine a login/logout  (Issue http://issues.opennms.org/browse/NMS-8204[NMS-8204])
* The ReST API used to return XMLs with namespace, and now it doesn't (Issue http://issues.opennms.org/browse/NMS-8524[NMS-8524])
* Config-tester not validating varbind matching in event files  (Issue http://issues.opennms.org/browse/NMS-9821[NMS-9821])
* enlinkd prints bridge forwarding table debug messages in output.log (Issue http://issues.opennms.org/browse/NMS-10258[NMS-10258])
* Document notifd's match-all parameter  (Issue http://issues.opennms.org/browse/NMS-10275[NMS-10275])
* DefaultProvisionService logs noisily for monitored service having state "N" (Issue http://issues.opennms.org/browse/NMS-10291[NMS-10291])
* LSB init script does not start Minion on Ubuntu/Debian (Issue http://issues.opennms.org/browse/NMS-10294[NMS-10294])
* SNMP monitor doesn't take service down (Issue http://issues.opennms.org/browse/NMS-10308[NMS-10308])
* Kafka consumers on Sentinel are not shown on kafka-manager (Issue http://issues.opennms.org/browse/NMS-10310[NMS-10310])
* Sentinel init scripts fail to start the Karaf instance (Issue http://issues.opennms.org/browse/NMS-10330[NMS-10330])
* navbar.ftl not rendering (Issue http://issues.opennms.org/browse/NMS-10342[NMS-10342])
* Wrong data type for certain Cassandra JMX counters (Issue http://issues.opennms.org/browse/NMS-10352[NMS-10352])
* Cannot override TTL when running the Karaf Command collections:collect through Minions (Issue http://issues.opennms.org/browse/NMS-10367[NMS-10367])
* Trendbox on start page is empty (Issue http://issues.opennms.org/browse/NMS-10368[NMS-10368])
* Erroneous INFO-level log messages during every forced node rescan (Issue http://issues.opennms.org/browse/NMS-10370[NMS-10370])
* Wrong JMX MBeans for minions (Issue http://issues.opennms.org/browse/NMS-10372[NMS-10372])
* Alarm processing is very slow when Kafka producer is enabled and Kafka is unavailable (Issue http://issues.opennms.org/browse/NMS-10378[NMS-10378])
* webpack build runs even if source files are unchanged (Issue http://issues.opennms.org/browse/NMS-10381[NMS-10381])
* Problems with featuresRepositories and featuresBoot in features.cfg on Sentinel (Issue http://issues.opennms.org/browse/NMS-10388[NMS-10388])
* `find-java.sh` doesn't understand newer JDK output (Issue http://issues.opennms.org/browse/NMS-10401[NMS-10401])
* int overflow in InstallerDb causes bamboo failures (Issue http://issues.opennms.org/browse/NMS-10402[NMS-10402])
* The configuration example for Elasticsearch on the admin-docs is incorrect (Issue http://issues.opennms.org/browse/NMS-10407[NMS-10407])

===== Enhancement

* Merge User and Admin Guide (Issue http://issues.opennms.org/browse/NMS-10182[NMS-10182])
* Allow use of placeholders in parameter values of monitors (Issue http://issues.opennms.org/browse/NMS-10200[NMS-10200])
* Add support for persisting Data Collection to Kafka (Issue http://issues.opennms.org/browse/NMS-10215[NMS-10215])
* apply centralized datetime rendering to freemarker template(s) (Issue http://issues.opennms.org/browse/NMS-10239[NMS-10239])
* Update Syslogd to respond to reload configuration events (Issue http://issues.opennms.org/browse/NMS-10252[NMS-10252])
* Bump asciidoctor from 1.5.6 to 1.5.7 (Issue http://issues.opennms.org/browse/NMS-10255[NMS-10255])
* The Contribution file in our repository duplicates community guide (Issue http://issues.opennms.org/browse/NMS-10260[NMS-10260])
* Only increment the alarm count if the alarm type is not a resolving event. (Issue http://issues.opennms.org/browse/NMS-10264[NMS-10264])
* Remove non used core/doc module (Issue http://issues.opennms.org/browse/NMS-10266[NMS-10266])
* Add support for Cisco Syslog Message formats to the RadixTreeSyslogParser (Issue http://issues.opennms.org/browse/NMS-10273[NMS-10273])
* Update health:check command to check Kafka connectivity when no JMS involved (Issue http://issues.opennms.org/browse/NMS-10300[NMS-10300])
* ServiceLookup and TelemetryAdapterRegistry don't wait properly (Issue http://issues.opennms.org/browse/NMS-10303[NMS-10303])
* Refactor timeseries applicationContext xml files with 'timeseries' prefix (Issue http://issues.opennms.org/browse/NMS-10304[NMS-10304])
* Support  reload daemon for Trapd (Issue http://issues.opennms.org/browse/NMS-10305[NMS-10305])
* Create karaf shell commands for reload daemon (Issue http://issues.opennms.org/browse/NMS-10306[NMS-10306])
* Be able to use Proxy for any Monitor or Collector that uses HttpClientWrapper directly (Issue http://issues.opennms.org/browse/NMS-10312[NMS-10312])
* Be able to use Proxy for any Monitor or Collector that uses HttpClient via UrlFactory (Issue http://issues.opennms.org/browse/NMS-10313[NMS-10313])
* Optionally create new alarms when a problem reoccurs (Issue http://issues.opennms.org/browse/NMS-10331[NMS-10331])
* Implement a OSGi-aware CollectionAgentFactory (Issue http://issues.opennms.org/browse/NMS-10340[NMS-10340])
* VmwareMonitor should go down for an entity with unacknowledged vSphere-Alarms (Issue http://issues.opennms.org/browse/NMS-10345[NMS-10345])
* Link Node Page to Node Requisition (Issue http://issues.opennms.org/browse/NMS-10364[NMS-10364])
* Improve concurrency in Vmware Connection Pool (Issue http://issues.opennms.org/browse/NMS-10373[NMS-10373])
* Add Configurable Timeouts to VMware vCenter Discovery (Issue http://issues.opennms.org/browse/NMS-10377[NMS-10377])
* Set JVM flag to start Attach listener by default (Issue http://issues.opennms.org/browse/NMS-10384[NMS-10384])
* Class paths for collectd selector strategy in documentation is not correct (Issue http://issues.opennms.org/browse/NMS-10387[NMS-10387])

